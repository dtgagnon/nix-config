--- a/src/apprt/gtk/Surface.zig
+++ b/src/apprt/gtk/Surface.zig
@@ -1867,6 +1867,16 @@
         if (entry.native == keycode) break :keycode entry.key;
     } else .unidentified;

+    // When not composing, we prefer the logical key (from keyval) to respect
+    // OS-level key remapping (e.g., caps:swapescape). This allows users to
+    // swap keys at the OS level and have Ghostty recognize the remapped keys.
+    const key = if (!self.im_composing) key: {
+        if (gtk_key.keyFromKeyval(keyval)) |key| {
+            break :key key;
+        }
+        break :key physical_key;
+    } else .unidentified;
+
     // Get our modifier for the event
     const mods: input.Mods = gtk_key.eventMods(
         event,
@@ -1915,7 +1925,7 @@
     // Invoke the core Ghostty logic to handle this input.
     const effect = self.core_surface.keyCallback(.{
         .action = action,
-        .key = physical_key,
+        .key = key,
         .mods = mods,
         .consumed_mods = consumed_mods,
         .composing = self.im_composing,
